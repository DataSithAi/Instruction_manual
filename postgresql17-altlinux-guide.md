# üêò PostgreSQL 17 + pgAdmin 4 –Ω–∞ ALT Workstation K

![PostgreSQL](https://img.shields.io/badge/PostgreSQL-17.7-336791?style=for-the-badge&logo=postgresql&logoColor=white)
![ALT Linux](https://img.shields.io/badge/ALT_Linux-Workstation_K_11.2-0055A4?style=for-the-badge&logo=linux&logoColor=white)
![pgAdmin](https://img.shields.io/badge/pgAdmin-4-336791?style=for-the-badge&logo=postgresql&logoColor=white)
![Status](https://img.shields.io/badge/Status-–ì–æ—Ç–æ–≤–æ-success?style=for-the-badge)

> –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ **PostgreSQL 17**, **postgresql-contrib** –∏ **pgAdmin 4**
> –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ **ALT Workstation K 11.2 (Nemorosa)** x86_64.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [üêò PostgreSQL 17 + pgAdmin 4 –Ω–∞ ALT Workstation K](#-postgresql-17--pgadmin-4-–Ω–∞-alt-workstation-k)
  - [üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](#-—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)
  - [üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
  - [üîÑ –®–∞–≥ 1 ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–∞–∫–µ—Ç–æ–≤](#-—à–∞–≥-1--–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-—Å–ø–∏—Å–∫–∞-–ø–∞–∫–µ—Ç–æ–≤)
  - [üì• –®–∞–≥ 2 ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤](#-—à–∞–≥-2--—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–ø–∞–∫–µ—Ç–æ–≤)
  - [üóÑÔ∏è –®–∞–≥ 3 ‚Äî –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#Ô∏è-—à–∞–≥-3--–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
  - [üîê –®–∞–≥ 4 ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏](#-—à–∞–≥-4--–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
  - [‚ñ∂Ô∏è –®–∞–≥ 5 ‚Äî –ó–∞–ø—É—Å–∫ —Å–ª—É–∂–±](#Ô∏è-—à–∞–≥-5--–∑–∞–ø—É—Å–∫-—Å–ª—É–∂–±)
  - [üë§ –®–∞–≥ 6 ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ —É—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ pgAdmin](#-—à–∞–≥-6--—Å–æ–∑–¥–∞–Ω–∏–µ-—É—á—ë—Ç–Ω–æ–π-–∑–∞–ø–∏—Å–∏-pgadmin)
  - [üñ•Ô∏è –®–∞–≥ 7 ‚Äî –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL –≤ pgAdmin](#Ô∏è-—à–∞–≥-7--–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ-–∫-postgresql-–≤-pgadmin)
    - [–í–∫–ª–∞–¥–∫–∞ General](#–≤–∫–ª–∞–¥–∫–∞-general)
    - [–í–∫–ª–∞–¥–∫–∞ –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ](#–≤–∫–ª–∞–¥–∫–∞-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ)
  - [üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã](#Ô∏è-–ø–æ–ª–µ–∑–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã)
    - [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PostgreSQL](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-postgresql)
    - [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ pgAdmin 4](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-pgadmin-4)
    - [–†–∞–±–æ—Ç–∞ —Å psql](#—Ä–∞–±–æ—Ç–∞-—Å-psql)
    - [–°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è](#—Å–±—Ä–æ—Å-–ø–∞—Ä–æ–ª—è-—Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
  - [üìÅ –í–∞–∂–Ω—ã–µ –ø—É—Ç–∏](#-–≤–∞–∂–Ω—ã–µ-–ø—É—Ç–∏)

---

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –í–µ—Ä—Å–∏—è |
|-----------|--------|
| –û–° | ALT Workstation K 11.2 (Nemorosa) x86\_64 |
| PostgreSQL | 17.7 |
| pgAdmin | 4 (8.3) |
| –ü—Ä–∞–≤–∞ | `sudo` |

---

## üîÑ –®–∞–≥ 1 ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–∞–∫–µ—Ç–æ–≤

```bash
sudo apt-get update
```

---

## üì• –®–∞–≥ 2 ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º `PostgreSQL 17`, `contrib` –∏ `pgAdmin 4` –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

```bash
sudo apt-get install -y postgresql17 postgresql17-server postgresql17-contrib pgadmin4
```

---

## üóÑÔ∏è –®–∞–≥ 3 ‚Äî –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
sudo /etc/init.d/postgresql initdb
```

–í –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ø—Ä–æ—Å–∏—Ç –∑–∞–¥–∞—Ç—å –ø–∞—Ä–æ–ª—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `postgres` ‚Äî **–∑–∞–ø–æ–º–Ω–∏—Ç–µ –µ–≥–æ**, –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ pgAdmin.

**–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞:**

```
Creating default database:
–ö–ª–∞—Å—Ç–µ—Ä –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –ª–æ–∫–∞–ª—å—é "ru_RU.UTF-8".
–ö–æ–¥–∏—Ä–æ–≤–∫–∞ –ë–î –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "UTF8".
...
Success. You can now start the database server using:
  service postgresql start
```

---

## üîê –®–∞–≥ 4 ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é PostgreSQL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ç–æ–¥ `scram-sha-256`, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è pgAdmin 4. –ó–∞–º–µ–Ω—è–µ–º –Ω–∞ `md5`:

```bash
sudo sed -i 's/scram-sha-256/md5/g' /var/lib/pgsql/data/pg_hba.conf
```

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –≠—Ç–æ—Ç —à–∞–≥ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å **–¥–æ** –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ PostgreSQL, –∏–Ω–∞—á–µ pgAdmin –Ω–µ —Å–º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è.

---

## ‚ñ∂Ô∏è –®–∞–≥ 5 ‚Äî –ó–∞–ø—É—Å–∫ —Å–ª—É–∂–±

–ó–∞–ø—É—Å–∫–∞–µ–º PostgreSQL –∏ pgAdmin 4, –¥–æ–±–∞–≤–ª—è–µ–º –æ–±–∞ –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É:

```bash
sudo systemctl enable --now postgresql
sudo systemctl enable --now pgadmin4
```

–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å—ã:

```bash
sudo systemctl status postgresql
sudo systemctl status pgadmin4
```

![PostgreSQL](https://img.shields.io/badge/postgresql-active%20(running)-brightgreen?style=flat-square)
![pgAdmin](https://img.shields.io/badge/pgadmin4-active%20(running)-brightgreen?style=flat-square)

pgAdmin 4 –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É **8765** (`http://localhost:8765`).

---

## üë§ –®–∞–≥ 6 ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ —É—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ pgAdmin

–°–æ–∑–¥–∞—ë–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å pgAdmin:

```bash
sudo EVENTLET_NO_GREENDNS=yes python3 /usr/lib/pgadmin4/setup.py add-user admin@local.com '–í–∞—à–ü–∞—Ä–æ–ª—å' --admin
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**

```
          User Details
+-------------------------------+
| Field       | Value           |
|-------------+-----------------|
| Email       | admin@local.com |
| auth_source | internal        |
| role        | Admin           |
| active      | True            |
+-------------------------------+
```

> üí° –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `EVENTLET_NO_GREENDNS=yes` –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–∞–≥–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É `eventlet` –∏ `trio`.

---

## üñ•Ô∏è –®–∞–≥ 7 ‚Äî –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL –≤ pgAdmin

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `http://localhost:8765`. –í–æ–π–¥–∏—Ç–µ —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ —à–∞–≥–∞ 6.

–î–æ–±–∞–≤—å—Ç–µ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ **–û–±—ä–µ–∫—Ç ‚Üí –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí –°–µ—Ä–≤–µ—Ä**:

### –í–∫–ª–∞–¥–∫–∞ General

| –ü–æ–ª–µ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|------|----------|
| –ò–º—è | `PostgreSQL 17` |

### –í–∫–ª–∞–¥–∫–∞ –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

| –ü–æ–ª–µ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|------|----------|
| –ò–º—è/–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ | `localhost` |
| –ü–æ—Ä—Ç | `5432` |
| –°–ª—É–∂–µ–±–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | `postgres` |
| –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | `postgres` |
| –ü–∞—Ä–æ–ª—å | *(–ø–∞—Ä–æ–ª—å –∏–∑ —à–∞–≥–∞ 3)* |

–ù–∞–∂–º–∏—Ç–µ **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å** ‚Äî —Å–µ—Ä–≤–µ—Ä –ø–æ—è–≤–∏—Ç—Å—è –≤ **Object Explorer** —Å –¥–∞—à–±–æ—Ä–¥–æ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

---

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PostgreSQL

```bash
sudo systemctl start postgresql      # –ó–∞–ø—É—Å–∫
sudo systemctl stop postgresql       # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo systemctl restart postgresql    # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl status postgresql     # –°—Ç–∞—Ç—É—Å
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ pgAdmin 4

```bash
sudo systemctl start pgadmin4        # –ó–∞–ø—É—Å–∫
sudo systemctl stop pgadmin4         # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo systemctl restart pgadmin4      # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl status pgadmin4       # –°—Ç–∞—Ç—É—Å
```

### –†–∞–±–æ—Ç–∞ —Å psql

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
sudo -u postgres psql

# –°–ø–∏—Å–æ–∫ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
\l

# –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
\du

# –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE mydb;

# –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
CREATE USER myuser WITH PASSWORD 'mypassword';

# –í—ã—Ö–æ–¥
\q
```

### –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
sudo -u postgres psql -c "ALTER USER postgres WITH PASSWORD '–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å';"
```

---

## üìÅ –í–∞–∂–Ω—ã–µ –ø—É—Ç–∏

| –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—É—Ç—å |
|------------|------|
| –î–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ | `/var/lib/pgsql/data/` |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PostgreSQL | `/var/lib/pgsql/data/postgresql.conf` |
| –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è | `/var/lib/pgsql/data/pg_hba.conf` |
| –õ–æ–≥–∏ PostgreSQL | `/var/log/postgres/` |
| pgAdmin 4 | `http://localhost:8765` |

---

![Made with](https://img.shields.io/badge/–°–¥–µ–ª–∞–Ω–æ_—Å-‚ù§Ô∏è-red?style=for-the-badge)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-17-336791?style=for-the-badge&logo=postgresql&logoColor=white)
![ALT Linux](https://img.shields.io/badge/ALT_Linux-p11-0055A4?style=for-the-badge&logo=linux&logoColor=white)
