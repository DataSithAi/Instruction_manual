# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ ClickHouse + DBeaver –Ω–∞ ALT Linux

![ALT Linux](https://img.shields.io/badge/ALT_Linux-Workstation_K_11.2-0072C6?style=for-the-badge&logo=linux&logoColor=white)
![ClickHouse](https://img.shields.io/badge/ClickHouse-25.8.10.7-FFCC00?style=for-the-badge&logo=clickhouse&logoColor=black)
![DBeaver](https://img.shields.io/badge/DBeaver-25.3.4-4A90D9?style=for-the-badge&logo=dbeaver&logoColor=white)
![Status](https://img.shields.io/badge/–°—Ç–∞—Ç—É—Å-–ì–æ—Ç–æ–≤–æ-brightgreen?style=for-the-badge)

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ DBeaver Community](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-dbeaver-community)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ ClickHouse](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-clickhouse)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–æ–ª—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è default](#-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø–∞—Ä–æ–ª—è-–¥–ª—è-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-default)
- [–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ DBeaver –∫ ClickHouse](#-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ-dbeaver-–∫-clickhouse)
- [–ü—Ä–æ–≤–µ—Ä–∫–∞](#-–ø—Ä–æ–≤–µ—Ä–∫–∞)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–æ–π](#-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–æ–π)
- [–ü–æ–ª–µ–∑–Ω—ã–µ SQL-–∫–æ–º–∞–Ω–¥—ã](#-–ø–æ–ª–µ–∑–Ω—ã–µ-sql-–∫–æ–º–∞–Ω–¥—ã)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏](#-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏)
- [–°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è default](#-—Å–º–µ–Ω–∞-–ø–∞—Ä–æ–ª—è-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-default)
- [–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã](#-–ø–æ–ª–µ–∑–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã)
- [–ü—Ä–∏–º–µ—á–∞–Ω–∏—è](#-–ø—Ä–∏–º–µ—á–∞–Ω–∏—è)

---

## üñ• –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –í–µ—Ä—Å–∏—è |
|-----------|--------|
| –û–° | ALT Workstation K 11.2 (Nemorosa) x86_64 |
| –ü–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä | apt-get (ALT Linux) |
| Flatpak | –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ DBeaver |
| ClickHouse | 25.8.10.7-alt1 (–∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è p11) |
| DBeaver Community | 25.3.4+ |

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ DBeaver Community

![Flatpak](https://img.shields.io/badge/–£—Å—Ç–∞–Ω–æ–≤–∫–∞_—á–µ—Ä–µ–∑-Flatpak-4A90D9?style=flat-square&logo=flatpak)

DBeaver Community Edition –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö ALT Linux, –ø–æ—ç—Ç–æ–º—É —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —á–µ—Ä–µ–∑ **Flatpak** –∏–∑ **Flathub**:

```bash
flatpak install flathub io.dbeaver.DBeaverCommunity
```

> üí° –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Flatpak —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Flathub –ø–æ–¥–∫–ª—é—á—ë–Ω.

---

## üóÑ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ClickHouse

![ClickHouse](https://img.shields.io/badge/–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π-ALT_Linux_p11-0072C6?style=flat-square)

ClickHouse –¥–æ—Å—Ç—É–ø–µ–Ω –≤ **–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö ALT Linux p11** ‚Äî —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–µ –Ω—É–∂–Ω—ã.

### –®–∞–≥ 1 ‚Äî –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤

```bash
sudo apt-get update
```

### –®–∞–≥ 2 ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ClickHouse

```bash
sudo apt-get install clickhouse-server clickhouse-client
```

–ë—É–¥—É—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Ç—Ä–∏ –ø–∞–∫–µ—Ç–∞:
- `clickhouse-common-static` ‚Äî –æ–±—â–∏–µ —Ñ–∞–π–ª—ã (~82 –ú–ë)
- `clickhouse-client` ‚Äî –∫–ª–∏–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- `clickhouse-server` ‚Äî —Å–µ—Ä–≤–µ—Ä (~67 –ú–ë)

> ‚ö†Ô∏è –°—É–º–º–∞—Ä–Ω—ã–π –æ–±—ä—ë–º –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏: ~834 –ú–ë

### –®–∞–≥ 3 ‚Äî –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É

```bash
sudo systemctl enable --now clickhouse-server
```

### –®–∞–≥ 4 ‚Äî –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å

```bash
sudo systemctl status clickhouse-server
```

### –®–∞–≥ 5 ‚Äî –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ CLI-–∫–ª–∏–µ–Ω—Ç

```bash
clickhouse-client
```

–£—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```
ClickHouse client version 25.8.10.1.
Connecting to localhost:9000 as user default.
Connected to ClickHouse server version 25.8.10.
:)
```

–î–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –∫–ª–∏–µ–Ω—Ç–∞:

```sql
exit
```

---

## üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–æ–ª—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `default`

![Security](https://img.shields.io/badge/–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å-–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ-red?style=flat-square)

–í –≤–µ—Ä—Å–∏–∏ ClickHouse 25.x –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è **–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω**. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `default` —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ read-only –∫–æ–Ω—Ñ–∏–≥–µ, –ø–æ—ç—Ç–æ–º—É –ø–∞—Ä–æ–ª—å –∑–∞–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ–∞–π–ª –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `users.d`.

### –®–∞–≥ 1 ‚Äî –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (–µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)

```bash
sudo mkdir -p /etc/clickhouse-server/users.d
```

### –®–∞–≥ 2 ‚Äî –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥

–í —Ñ–∞–π–ª–µ `/etc/clickhouse-server/users.xml` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ–≥ `<password></password>`, –∫–æ—Ç–æ—Ä—ã–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å —Ñ–∞–π–ª–∞–º–∏ –∏–∑ `users.d`. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–º–µ–Ω–∏—Ç—å –µ–≥–æ –Ω–∞ `<no_password/>`:

```bash
sudo sed -i 's|<password></password>|<no_password/>|' /etc/clickhouse-server/users.xml
```

### –®–∞–≥ 3 ‚Äî –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª —Å –ø–∞—Ä–æ–ª–µ–º

```bash
sudo nano /etc/clickhouse-server/users.d/default-password.xml
```

–í—Å—Ç–∞–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```xml
<clickhouse>
    <users>
        <default>
            <no_password remove="1"/>
            <password>–≤–∞—à_–ø–∞—Ä–æ–ª—å</password>
        </default>
    </users>
</clickhouse>
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç—å: `Ctrl+O` ‚Üí `Enter` ‚Üí `Ctrl+X`

### –®–∞–≥ 4 ‚Äî –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä

```bash
sudo systemctl restart clickhouse-server
```

### –®–∞–≥ 5 ‚Äî –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å –ø–∞—Ä–æ–ª–µ–º

```bash
clickhouse-client --user default --password "–≤–∞—à_–ø–∞—Ä–æ–ª—å"
```

---

## üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ DBeaver –∫ ClickHouse

### –®–∞–≥ 1 ‚Äî –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

–û—Ç–∫—Ä—ã—Ç—å DBeaver –∏ –Ω–∞–∂–∞—Ç—å **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚Üí –ù–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö** –∏–ª–∏ `Shift+Ctrl+N`.

### –®–∞–≥ 2 ‚Äî –í—ã–±—Ä–∞—Ç—å –¥—Ä–∞–π–≤–µ—Ä ClickHouse

–í —Å–ø–∏—Å–∫–µ –¥—Ä–∞–π–≤–µ—Ä–æ–≤ –Ω–∞–π—Ç–∏ –∏ –≤—ã–±—Ä–∞—Ç—å **ClickHouse** (–Ω–µ ClickHouse Legacy), –Ω–∞–∂–∞—Ç—å **–î–∞–ª–µ–µ**.

### –®–∞–≥ 3 ‚Äî –°–∫–∞—á–∞—Ç—å JDBC-–¥—Ä–∞–π–≤–µ—Ä

DBeaver –ø—Ä–µ–¥–ª–æ–∂–∏—Ç —Å–∫–∞—á–∞—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π JDBC-–¥—Ä–∞–π–≤–µ—Ä ClickHouse. –ù–∞–∂–∞—Ç—å **–°–∫–∞—á–∞—Ç—å**.

> –ë—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω: `ClickHouse JDBC Driver 0.9.5`

### –®–∞–≥ 4 ‚Äî –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| –•–æ—Å—Ç | `localhost` |
| –ü–æ—Ä—Ç | `8123` |
| –ë–î/–°—Ö–µ–º–∞ | *(–æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º)* |
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | `default` |
| –ü–∞—Ä–æ–ª—å | `–≤–∞—à_–ø–∞—Ä–æ–ª—å` |

### –®–∞–≥ 5 ‚Äî –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

–ù–∞–∂–∞—Ç—å **–¢–µ—Å—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è ...**.

–£—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```
‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–æ (188 –º—Å)
–°–µ—Ä–≤–µ—Ä:   ClickHouse 25.8.10.1
–î—Ä–∞–π–≤–µ—Ä:  ClickHouse JDBC Driver 0.9.5
```

### –®–∞–≥ 6 ‚Äî –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

–ù–∞–∂–∞—Ç—å **–ì–æ—Ç–æ–≤–æ**. –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ `localhost:8123` –ø–æ—è–≤–∏—Ç—Å—è –≤ –ø–∞–Ω–µ–ª–∏ **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**.

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ –ø–∞–Ω–µ–ª–∏ **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∏–∫–æ–Ω–∫–æ–π ClickHouse. –ú–æ–∂–Ω–æ —Ä–∞—Å–∫—Ä—ã—Ç—å –µ–≥–æ –∏ —É–≤–∏–¥–µ—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

- `default`
- `INFORMATION_SCHEMA` / `information_schema`
- `system`

---

## ‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–æ–π

```bash
# –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É
sudo systemctl enable clickhouse-server

# –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É
sudo systemctl disable clickhouse-server

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏
sudo systemctl is-enabled clickhouse-server
```

–ö–æ–º–∞–Ω–¥–∞ `is-enabled` –≤–µ—Ä–Ω—ë—Ç `enabled` –∏–ª–∏ `disabled`.

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ SQL-–∫–æ–º–∞–Ω–¥—ã

–í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ `clickhouse-client`:

```sql
-- –£–∑–Ω–∞—Ç—å –≤–µ—Ä—Å–∏—é —Å–µ—Ä–≤–µ—Ä–∞
SELECT version();

-- –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
SHOW DATABASES;

-- –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –≤ —Ç–µ–∫—É—â–µ–π –ë–î
SHOW TABLES;

-- –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SHOW USERS;

-- –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
SHOW GRANTS FOR default;
```

---

## üë§ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

### –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (plaintext)

```sql
CREATE USER –∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è IDENTIFIED WITH plaintext_password BY '–ø–∞—Ä–æ–ª—å';
```

### –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å SHA256-–ø–∞—Ä–æ–ª–µ–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–Ω–∞—á–∞–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ö—ç—à –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
echo -n "–ø–∞—Ä–æ–ª—å" | sha256sum | awk '{print $1}'
```

–ó–∞—Ç–µ–º –≤ `clickhouse-client`:

```sql
CREATE USER –∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è IDENTIFIED WITH sha256_hash BY '—Ö—ç—à';
```

### –í—ã–¥–∞—Ç—å –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

```sql
-- –í—Å–µ –ø—Ä–∞–≤–∞ –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
GRANT ALL ON –Ω–∞–∑–≤–∞–Ω–∏–µ_–±–¥.* TO –∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;

-- –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ
GRANT SELECT ON –Ω–∞–∑–≤–∞–Ω–∏–µ_–±–¥.* TO –∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;
```

### –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```sql
DROP USER –∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;
```

### –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```sql
SHOW USERS;
```

---

## üîÑ –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `default`

![Security](https://img.shields.io/badge/–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è-SHA256-green?style=flat-square)

### –í–∞—Ä–∏–∞–Ω—Ç 1 ‚Äî –ß–µ—Ä–µ–∑ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥–∞ (plaintext)

> ‚ö†Ô∏è –ü—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±, –Ω–æ –ø–∞—Ä–æ–ª—å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

**–®–∞–≥ 1** ‚Äî –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª:

```bash
sudo nano /etc/clickhouse-server/users.d/default-password.xml
```

–ó–∞–º–µ–Ω–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```xml
<clickhouse>
    <users>
        <default>
            <no_password remove="1"/>
            <password>–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å</password>
        </default>
    </users>
</clickhouse>
```

**–®–∞–≥ 2** ‚Äî –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:

```bash
sudo systemctl restart clickhouse-server
```

**–®–∞–≥ 3** ‚Äî –û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å –≤ DBeaver: –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ `localhost` ‚Üí **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** ‚Üí –≤–≤–µ—Å—Ç–∏ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å ‚Üí **–ì–æ—Ç–æ–≤–æ**.

---

### –í–∞—Ä–∏–∞–Ω—Ç 2 ‚Äî SHA256-—Ö—ç—à (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚úÖ

> üí° –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–± ‚Äî –ø–∞—Ä–æ–ª—å –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ –Ω–∏–≥–¥–µ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è.

**–®–∞–≥ 1** ‚Äî –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ö—ç—à –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è:

```bash
echo -n "–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å" | sha256sum | awk '{print $1}'
```

> ‚ö†Ô∏è –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ö—ç—à —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–æ–≤–Ω–æ **64 —Å–∏–º–≤–æ–ª–∞** ‚Äî –∏–Ω–∞—á–µ —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è.

**–®–∞–≥ 2** ‚Äî –ó–∞–ø–∏—Å–∞—Ç—å —Ö—ç—à –≤ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

```bash
echo -n "–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å" | sha256sum | awk '{print $1}' | xargs -I{} sudo sh -c 'cat > /etc/clickhouse-server/users.d/default-password.xml << EOF
<clickhouse>
    <users>
        <default>
            <no_password remove="1"/>
            <password_sha256_hex>{}</password_sha256_hex>
        </default>
    </users>
</clickhouse>
EOF'
```

**–®–∞–≥ 3** ‚Äî –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª (—Ö—ç—à –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 64 —Å–∏–º–≤–æ–ª–∞):

```bash
sudo cat /etc/clickhouse-server/users.d/default-password.xml
```

**–®–∞–≥ 4** ‚Äî –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:

```bash
sudo systemctl restart clickhouse-server
```

**–®–∞–≥ 5** ‚Äî –û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å –≤ DBeaver: –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ `localhost` ‚Üí **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** ‚Üí –≤–≤–µ—Å—Ç–∏ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å ‚Üí **–ì–æ—Ç–æ–≤–æ**.

---

## üóí –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞
sudo systemctl status clickhouse-server

# –ó–∞–ø—É—Å–∫ / –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ / –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl start clickhouse-server
sudo systemctl stop clickhouse-server
sudo systemctl restart clickhouse-server

# –í–∫–ª—é—á–∏—Ç—å / –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É
sudo systemctl enable clickhouse-server
sudo systemctl disable clickhouse-server

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ CLI
clickhouse-client --user default --password "–≤–∞—à_–ø–∞—Ä–æ–ª—å"

# –í–µ—Ä—Å–∏—è –∫–ª–∏–µ–Ω—Ç–∞
clickhouse-client --version
```

---

## üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

> ![Note](https://img.shields.io/badge/‚ö†Ô∏è_–í–∞–∂–Ω–æ-–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å-orange?style=flat-square)
>
> –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ –ø–∞—Ä–æ–ª–∏ –≤ —Ä–∞–±–æ—á–µ–π —Å—Ä–µ–¥–µ. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ö—Ä–∞–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –≤ –≤–∏–¥–µ SHA256-—Ö—ç—à–∞.

> ![Note](https://img.shields.io/badge/‚ÑπÔ∏è_–ü–æ—Ä—Ç—ã-–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è-blue?style=flat-square)
>
> ClickHouse –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤–∞ –ø–æ—Ä—Ç–∞: **8123** (HTTP, –¥–ª—è JDBC/DBeaver) –∏ **9000** (–Ω–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª, –¥–ª—è CLI-–∫–ª–∏–µ–Ω—Ç–∞).

> ![Note](https://img.shields.io/badge/‚ÑπÔ∏è_–ö–æ–Ω—Ñ–∏–≥-–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è-blue?style=flat-square)
>
> –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è ‚Äî —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ `/etc/clickhouse-server/users.xml` –Ω–µ—Ç —Ç–µ–≥–∞ `<password></password>`. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π:
> ```bash
> sudo sed -i 's|<password></password>|<no_password/>|' /etc/clickhouse-server/users.xml
> ```

---

*–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –¥–ª—è ALT Workstation K 11.2 (Nemorosa) x86_64*
